<script src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.10.25/js/dataTables.bootstrap4.min.js"></script>

<script>
  $(document).ready(function() {
      $( "#{{ table_name }}" ).DataTable( {
          order: [ {{ table_order|safe }} ],     {# table_order is not user supplied, so should be ok #}
          lengthMenu: [ 10, 25, 50, 100 ],
          dom : '<"row no-gutters"<"col-12 col-md-6"l><"col-12 col-md-6"f>>t<"col-12"p>',
          scrollX: true,
          processing: true,
          serverSide: true,   // Enable server side processing to achieve low loading time pagination/queries
          ajax: {
              url: "/ajax/experiments",
              dataSrc: "data"
          },
          columnDefs: [
              { targets: "_all", defaultContent: "" }
          ],
          columns: [
              {data: "_id"},
              {data: "user"},
              {data: "strain"},
              {data: "sex"},
              {data: "age"},
              {data: "concentration"},
              {data: "worm_length"},
              {data: "legacy_id"},
          ]
      });
  });
</script>